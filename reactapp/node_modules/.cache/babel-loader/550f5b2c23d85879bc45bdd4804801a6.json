{"ast":null,"code":"var _jsxFileName = \"/home/suomi/JS_training/batch19/projets/MorningNews/part3/Backend/reactapp/src/ScreenSource.js\";\nimport React, { useState, useEffect } from 'react';\nimport { List, Avatar } from 'antd';\nimport { Link, Redirect } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport './App.css';\n/* Initialize News API */\n//const NewsAPI = require('newsapi');\n\nconst APIkey = '920fe1871ec5410289dba3174398da12';\n\nfunction ScreenSource(props) {\n  const [sourceList, setSourceList] = useState([]);\n  const [languageCountry, setLanguageCountry] = useState({});\n\n  const CheckLogin = () => {\n    if (props.userToken === '') {\n      return React.createElement(Redirect, {\n        to: \"/\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 26\n        },\n        __self: this\n      });\n    } else {\n      return null;\n    }\n  };\n\n  async function fetchSources(lang = 'fr', country = 'fr') {\n    let urlRequestNews = `https://newsapi.org/v2/sources?country=${country}&language=${lang}&apiKey=${APIkey}`;\n    let sources = await fetch(urlRequestNews);\n    let response = await sources.json();\n\n    if (response.status === 'ok') {\n      setSourceList(response.sources);\n    }\n  }\n\n  useEffect(() => {\n    fetchSources('fr', 'fr');\n  }, []);\n  useEffect(() => {\n    fetchSources(languageCountry.lang, languageCountry.country);\n  }, [languageCountry]);\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, React.createElement(CheckLogin, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"Banner\",\n    style: {\n      display: 'flex',\n      justifyContent: 'center',\n      alignItems: 'center'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, React.createElement(Avatar, {\n    src: `/images/flag_FR.png`,\n    style: {\n      margin: '5px',\n      cursor: 'pointer'\n    },\n    onClick: () => setLanguageCountry({\n      lang: 'fr',\n      country: 'fr'\n    }),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }), React.createElement(Avatar, {\n    src: `/images/flag_UK.png`,\n    style: {\n      margin: '5px',\n      cursor: 'pointer'\n    },\n    onClick: () => setLanguageCountry({\n      lang: 'en',\n      country: 'gb'\n    }),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }), React.createElement(Avatar, {\n    src: `https://upload.wikimedia.org/wikipedia/commons/9/9a/Flag_of_Spain.svg`,\n    style: {\n      margin: '5px',\n      cursor: 'pointer'\n    },\n    onClick: () => setLanguageCountry({\n      lang: 'es',\n      country: 'es'\n    }),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"HomeThemes\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }, React.createElement(List, {\n    itemLayout: \"horizontal\",\n    dataSource: sourceList,\n    renderItem: item => React.createElement(List.Item, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, React.createElement(List.Item.Meta, {\n      avatar: React.createElement(Avatar, {\n        src: `/images/${item.category}.png`,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }),\n      title: React.createElement(Link, {\n        to: `/sources/${item.id}`,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, item.name),\n      description: item.description,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    })),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  })));\n}\n\nfunction mapStateToProps(state) {\n  return {\n    userToken: state.tokenuser\n  };\n}\n\nexport default connect(mapStateToProps, null)(ScreenSource);","map":{"version":3,"sources":["/home/suomi/JS_training/batch19/projets/MorningNews/part3/Backend/reactapp/src/ScreenSource.js"],"names":["React","useState","useEffect","List","Avatar","Link","Redirect","connect","APIkey","ScreenSource","props","sourceList","setSourceList","languageCountry","setLanguageCountry","CheckLogin","userToken","fetchSources","lang","country","urlRequestNews","sources","fetch","response","json","status","display","justifyContent","alignItems","margin","cursor","item","category","id","name","description","mapStateToProps","state","tokenuser"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { List, Avatar } from 'antd';\nimport { Link, Redirect } from 'react-router-dom';\nimport {connect} from 'react-redux';\n\nimport './App.css';\n\n\n\n/* Initialize News API */\n//const NewsAPI = require('newsapi');\nconst APIkey = '920fe1871ec5410289dba3174398da12';\n\n\n\n\nfunction ScreenSource(props) {\n\n\n  const [ sourceList, setSourceList ] = useState([]);\n  const [ languageCountry, setLanguageCountry ] = useState({});\n\n\n\tconst CheckLogin = () => {\n\t\tif ( props.userToken === '') {\n\t\t\treturn <Redirect to='/'/>\n\t\t} else { return null }\n\t}\n\t\n\tasync function fetchSources(lang = 'fr', country='fr' ) {\n\t\tlet urlRequestNews = `https://newsapi.org/v2/sources?country=${country}&language=${lang}&apiKey=${APIkey}`;\n\t\tlet sources = await fetch( urlRequestNews );\n\t\tlet response = await sources.json();\n\t\tif(response.status === 'ok'){\n\t\t\tsetSourceList( response.sources )\n\t\t}\n\t}\n\n  useEffect( () => {\n\t\tfetchSources('fr','fr');\n\t}, [] );\n\t\n\n  useEffect( () => {\n\t\tfetchSources( languageCountry.lang, languageCountry.country );\n\t}, [languageCountry] );\n\n\n  return (\n   <div>\n   \t<CheckLogin />\n\t\t<div className=\"Banner\" style={{display:'flex', justifyContent:'center', alignItems:'center'}} >\n\t\t\t\n\t\t\t<Avatar src={`/images/flag_FR.png`} style={{margin:'5px', cursor:'pointer'}} \n\t\t\t\tonClick={ ()=>setLanguageCountry({ lang: 'fr', country:'fr' }) } />\n\t\t\t\t\n\t\t\t<Avatar src={`/images/flag_UK.png`} style={{margin:'5px', cursor:'pointer'}} \n\t\t\t\tonClick={ ()=>setLanguageCountry({ lang: 'en', country:'gb' }) } />\n\t\t\t\n\t\t\t<Avatar src={`https://upload.wikimedia.org/wikipedia/commons/9/9a/Flag_of_Spain.svg`} \n\t\t\t\tstyle={{margin:'5px', cursor:'pointer'}} \n\t\t\t\tonClick={ ()=>setLanguageCountry({ lang: 'es', country:'es' }) } />\t\n\t\t</div>\n\n\n\t\t<div className=\"HomeThemes\">\n\t\t\t \n\t\t\t<List\n\t\t\t\titemLayout=\"horizontal\"\n\t\t\t\tdataSource={sourceList}\n\t\t\t\trenderItem={item => (\n\t\t\t\t  <List.Item>\n\t\t\t\t\t <List.Item.Meta\n\t\t\t\t\t\tavatar={<Avatar src={`/images/${item.category}.png`}/>}\n\t\t\t\t\t\ttitle={<Link to={`/sources/${item.id}`}>{item.name}</Link>}\n\t\t\t\t\t\tdescription={item.description}\n\t\t\t\t\t />\n\t\t\t\t  </List.Item>\n\t\t\t\t)}\n\t\t\t />\n\n\t\t</div>  \n\t\t\t \n\n\t\t            \n    </div>\n  );\n}\n\n\n\nfunction mapStateToProps(state) {\n  return {\n    userToken: state.tokenuser\n  }\n}\n\nexport default connect(\n    mapStateToProps, \n    null\n)( ScreenSource );\n\n\n"]},"metadata":{},"sourceType":"module"}