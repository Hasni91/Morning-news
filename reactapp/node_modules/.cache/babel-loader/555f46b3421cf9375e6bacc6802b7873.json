{"ast":null,"code":"var _jsxFileName = \"/home/suomi/JS_training/batch19/projets/MorningNews/part1/morningnews/src/ScreenSource.js\";\nimport React, { useState, useEffect } from 'react';\nimport { List, Avatar } from 'antd';\nimport { BrowserRouter as Router, Switch, Route, Link, useParams } from 'react-router-dom';\nimport './App.css';\nimport Nav from './Nav';\nimport ScreenArticlesBySource from './ScreenArticlesBySource';\n/* Initialize News API */\n//const NewsAPI = require('newsapi');\n\nconst APIkey = '920fe1871ec5410289dba3174398da12';\n\nfunction ScreenSource() {\n  const [sourceList, setSourceList] = useState([]);\n  useEffect(() => {\n    async function fetchNews() {\n      let urlRequestNews = `https://newsapi.org/v2/sources?country=fr&language=fr&apiKey=${APIkey}`;\n      let articles = await fetch(urlRequestNews);\n      let response = await articles.json();\n\n      if (response.status === 'ok') {\n        setSourceList(response.sources);\n      }\n    }\n\n    fetchNews();\n  }, []);\n  const data = [...sourceList];\n  console.log(data, sourceList);\n  return React.createElement(Router, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"Banner\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"HomeThemes\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, React.createElement(List, {\n    itemLayout: \"horizontal\",\n    dataSource: [...sourceList],\n    renderItem: item => React.createElement(List.Item, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }, React.createElement(List.Item.Meta, {\n      avatar: React.createElement(Avatar, {\n        src: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }),\n      title: React.createElement(Link, {\n        to: `/${item.id}`,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }, item.name),\n      description: item.description,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    })),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  })), React.createElement(Switch, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, React.createElement(Route, {\n    path: \"/sources/:id\",\n    children: React.createElement(Child, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  })));\n}\n\nfunction Child() {\n  // We can use the `useParams` hook here to access\n  // the dynamic pieces of the URL.\n  let {\n    id\n  } = useParams();\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }, React.createElement(Nav, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }), React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }, \"ID: \", id), React.createElement(ScreenArticlesBySource, {\n    idSource: id,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  }));\n}\n\nexport default ScreenSource;","map":{"version":3,"sources":["/home/suomi/JS_training/batch19/projets/MorningNews/part1/morningnews/src/ScreenSource.js"],"names":["React","useState","useEffect","List","Avatar","BrowserRouter","Router","Switch","Route","Link","useParams","Nav","ScreenArticlesBySource","APIkey","ScreenSource","sourceList","setSourceList","fetchNews","urlRequestNews","articles","fetch","response","json","status","sources","data","console","log","item","id","name","description","Child"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { List, Avatar } from 'antd';\nimport {\n\tBrowserRouter as Router, Switch, Route, Link,\n\tuseParams\n} from 'react-router-dom';\n\nimport './App.css';\nimport Nav from './Nav'\nimport ScreenArticlesBySource from './ScreenArticlesBySource';\n\n/* Initialize News API */\n//const NewsAPI = require('newsapi');\nconst APIkey = '920fe1871ec5410289dba3174398da12';\n\n\nfunction ScreenSource() {\n\n  const [ sourceList, setSourceList ] = useState([]);\n\n  useEffect( () => {\n\t\t\n\t\tasync function fetchNews () {\n\t\t\tlet urlRequestNews = `https://newsapi.org/v2/sources?country=fr&language=fr&apiKey=${APIkey}`;\n\t\t\tlet articles = await fetch( urlRequestNews );\n\t\t\tlet response = await articles.json();\n\t\t\tif(response.status === 'ok'){\n\t\t\t\tsetSourceList( response.sources )\n\t\t\t}\n\t\t}\n\t\tfetchNews();\t\n\t}, [] );\n\n  const data = [...sourceList];\n  console.log(data, sourceList)\n\n  return (\n    <Router>\n       \n\t\t<div className=\"Banner\"/>\n\n\t\t<div className=\"HomeThemes\">\n\t\t\t \n\t\t\t<List\n\t\t\t\titemLayout=\"horizontal\"\n\t\t\t\tdataSource={[...sourceList]}\n\t\t\t\trenderItem={item => (\n\t\t\t\t  <List.Item>\n\t\t\t\t\t <List.Item.Meta\n\t\t\t\t\t\tavatar={<Avatar src=''/>}\n\t\t\t\t\t\ttitle={<Link to={`/${item.id}`}>{item.name}</Link>}\n\t\t\t\t\t\tdescription={item.description}\n\t\t\t\t\t />\n\t\t\t\t  </List.Item>\n\t\t\t\t)}\n\t\t\t />\n\n\n\t\t</div>\n          \n\t\t\t \n\t\t<Switch>\n\t\t <Route path=\"/sources/:id\" children={<Child />} />\n\t\t</Switch>\n\t\t  \n                 \n    </Router>\n  );\n}\n\n\n\nfunction Child() {\n  // We can use the `useParams` hook here to access\n  // the dynamic pieces of the URL.\n  let { id } = useParams();\n\n  return (\n    <div>\n    \t<Nav />\n    \t<p>ID: {id}</p>\n      <ScreenArticlesBySource idSource={id} />\n    </div>\n  );\n}\n\nexport default ScreenSource;\n\n\n\n"]},"metadata":{},"sourceType":"module"}