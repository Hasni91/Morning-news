{"ast":null,"code":"var _jsxFileName = \"/home/suomi/JS_training/batch19/projets/MorningNews/part2/Backend/reactapp/src/ScreenHome.js\";\nimport React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport './App.css';\nimport { Input, Button } from 'antd';\n\nfunction ScreenHome(props) {\n  const [isLogin, setIsLogin] = useState(false);\n  const [signupAttempt, setSignupAttempt] = useState('');\n  const [signupName, setsignupName] = useState('');\n  const [signupEmail, setsignupEmail] = useState('');\n  const [signupPassword, setsignupPassword] = useState('');\n  const [signinEmail, setsigninEmail] = useState('');\n  const [signinPassword, setsigninPassword] = useState('');\n\n  const handleSignUp = () => {\n    if (IsLogin) {\n      return React.createElement(Redirect, {\n        to: \"/sources\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 27\n        },\n        __self: this\n      });\n    } //setIsLogin(true)\n\n  };\n\n  useEffect(() => {\n    async function fetchAuth() {\n      let url = '/sign-up';\n      let options = {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/x-www-form-urlencoded'\n        },\n        body: `name=${signupName}&email=${signupEmail}&password=${signupPassword}`\n      };\n      let sources = await fetch(url, options);\n      let response = await sources.json();\n\n      if (response.success) {\n        setIsLogin(true);\n      }\n    }\n\n    fetchAuth();\n  }, [signupAttempt]);\n  return React.createElement(\"div\", {\n    className: \"Login-page\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"Sign\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, React.createElement(Input, {\n    id: \"signinEmail\",\n    className: \"Login-input\",\n    placeholder: \"arthur@lacapsule.com\",\n    onChange: e => setsigninEmail(e.target.value),\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }), React.createElement(Input.Password, {\n    id: \"signinPassword\",\n    className: \"Login-input\",\n    placeholder: \"password\",\n    onChange: e => setsigninPassword(e.target.value),\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }), React.createElement(Button, {\n    onClick: () => handleSignIn(),\n    style: {\n      width: '80px'\n    },\n    type: \"primary\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }, \"Sign-in\")), React.createElement(\"div\", {\n    className: \"Sign\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  }, React.createElement(Input, {\n    id: \"signupName\",\n    className: \"Login-input\",\n    placeholder: \"Arthur G\",\n    onChange: e => setsignupName(e.target.value),\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }), React.createElement(Input, {\n    id: \"signupEmail\",\n    className: \"Login-input\",\n    placeholder: \"arthur@lacapsule.com\",\n    onChange: e => setsignupEmail(e.target.value),\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }), React.createElement(Input.Password, {\n    id: \"signupPassword\",\n    className: \"Login-input\",\n    placeholder: \"password\",\n    onChange: e => setsignupPassword(e.target.value),\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  }), React.createElement(Button, {\n    onClick: () => handleSignUp(),\n    style: {\n      width: '80px'\n    },\n    type: \"primary\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }, \"Sign-up\")));\n}\n\nexport default ScreenHome;","map":{"version":3,"sources":["/home/suomi/JS_training/batch19/projets/MorningNews/part2/Backend/reactapp/src/ScreenHome.js"],"names":["React","useState","useEffect","Link","Input","Button","ScreenHome","props","isLogin","setIsLogin","signupAttempt","setSignupAttempt","signupName","setsignupName","signupEmail","setsignupEmail","signupPassword","setsignupPassword","signinEmail","setsigninEmail","signinPassword","setsigninPassword","handleSignUp","IsLogin","fetchAuth","url","options","method","headers","body","sources","fetch","response","json","success","e","target","value","handleSignIn","width"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport './App.css';\nimport { Input, Button } from 'antd';\n\n\n\nfunction ScreenHome(props) {\n\n  const [isLogin, setIsLogin] = useState(false);\n  \n  \n  const [signupAttempt, setSignupAttempt] = useState('');\n\n  const [signupName, setsignupName] = useState('');\n  const [signupEmail, setsignupEmail] = useState('');\n  const [signupPassword, setsignupPassword] = useState('');\n  \n  \n  const [signinEmail, setsigninEmail] = useState('');\n  const [signinPassword, setsigninPassword] = useState('');\n  \n  \n  \n  const handleSignUp = () => {\n    if ( IsLogin ) { \n    \treturn( <Redirect to=\"/sources\" /> )  \n    }\n    //setIsLogin(true)\n  }\n\n\n  useEffect( () => {\n\t\tasync function fetchAuth () {\n\t\t\tlet url = '/sign-up';\n\t\t\tlet options = {  \n\t\t\t\tmethod: 'POST',\n\t\t\t\theaders: {'Content-Type':'application/x-www-form-urlencoded'},\n\t\t\t\tbody: `name=${signupName}&email=${signupEmail}&password=${signupPassword}` };\n\n\t\t\tlet sources = await fetch( url, options );\n\t\t\tlet response = await sources.json();\n\t\t\tif ( response.success ) { setIsLogin(true) }\n\t\t}\n\t\tfetchAuth();\n\t}, [signupAttempt] );\n  \n  \n  \n  return (\n    <div className=\"Login-page\" >\n\n          {/* SIGN-IN */}\n\n          <div className=\"Sign\">\n                  \n            <Input id=\"signinEmail\" className=\"Login-input\" placeholder=\"arthur@lacapsule.com\" \n            \tonChange={(e) => setsigninEmail(e.target.value)} required />\n\n            <Input.Password id=\"signinPassword\" className=\"Login-input\" placeholder=\"password\"\n            \tonChange={(e) => setsigninPassword(e.target.value)} required />\n            \n\n            <Button onClick={()=>handleSignIn()} style={{width:'80px'}} type=\"primary\">Sign-in</Button>\n\n          </div>\n\n          {/* SIGN-UP */}\n\n          <div className=\"Sign\">\n                  \n            <Input id=\"signupName\" className=\"Login-input\" placeholder=\"Arthur G\" \n            \tonChange={(e) => setsignupName(e.target.value)} required />\n            \t\n            <Input id=\"signupEmail\" className=\"Login-input\" placeholder=\"arthur@lacapsule.com\" \n            \tonChange={(e) => setsignupEmail(e.target.value)} required />\n\n            <Input.Password id=\"signupPassword\" className=\"Login-input\" placeholder=\"password\"\n            \tonChange={(e) => setsignupPassword(e.target.value)} required />\n      \n            <Button onClick={()=>handleSignUp()} style={{width:'80px'}} type=\"primary\">Sign-up</Button>\n\n          </div>\n\n      </div>\n  );\n}\n\nexport default ScreenHome;\n"]},"metadata":{},"sourceType":"module"}